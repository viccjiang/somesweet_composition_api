import{_ as T,e as d,f as n,g as t,F as b,n as P,p as H,t as u,k as V,x as E,y as F,B as j,b as O,a as N,r as _,w as K,s as Q,o as X,d as L,h as g,l as U,i as z,z as J,j as f,q as Z,N as Y,A as tt}from"./index-0d111a99.js";import{s as et}from"./LocalStorage-45b6b3d6.js";const{VITE_APP_URL:B,VITE_APP_PATH:D}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0};function st(e){return Math.floor(Math.random()*e)}const ot={data(){return{product:{},products:[],productImg:"",id:"",isLoading:!1,randomProducts:[]}},methods:{getProduct(){const{id:e}=this.$route.params;this.isLoading=!0,this.$http(`${B}api/${D}/product/${e}`).then(a=>{this.isLoading=!1,this.product=a.data.product,this.productImg=this.product.imageUrl,this.getProducts()})},getProducts(){const e=`${B}api/${D}/products/all`;this.$http.get(e).then(a=>{this.products=a.data.products,this.getLookLike()})},goProductPage(e){this.$router.push(`/product/${e}`)},getLookLike(){const{category:e}=this.product,a=this.products.filter(r=>r.category===e),h=a.length<4?a.length:4,p=new Set([]);for(let r=0;p.size<h;r+1){const m=st(a.length);p.add(m)}p.forEach(r=>{this.randomProducts.push(a[r])})}},mounted(){this.id=this.$route.params.id,this.getProduct()}},at=e=>(E("data-v-c7cece88"),e=e(),F(),e),ct={class:"bg-light py-10"},it={class:"container"},rt=at(()=>t("p",{class:"fs-3 fw-bold py-2 text-dark text-start border-bottom mb-10"}," 你可能也會喜歡 ",-1)),dt={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4"},nt={class:"card h-100 rounded-4 p-5 card-hover"},lt={class:"card-body d-flex flex-column justify-content-between"},ut={class:"card-title"},pt=["onClick"];function vt(e,a,h,p,r,m){return d(),n("div",ct,[t("div",it,[rt,t("div",dt,[(d(!0),n(b,null,P(r.randomProducts,v=>(d(),n("div",{key:v,class:"col"},[t("div",nt,[t("div",{style:H([{height:"200px","background-size":"cover","background-position":"center","object-fit":"cover"},`backgroundImage: url(${v.imageUrl})`]),class:"card-img-top rounded-4 p-5",alt:""},null,4),t("div",null,[t("div",lt,[t("h5",ut,u(v.title),1)])]),t("a",{href:"",class:"btn btn-white stretched-link d-flex flex-column text-end mt-auto p-0",onClick:V(s=>m.goProductPage(v.id),["prevent"])},"查看更多",8,pt)])]))),128))])])])}const ht=T(ot,[["render",vt],["__scopeId","data-v-c7cece88"]]);const w=e=>(E("data-v-3898c79f"),e=e(),F(),e),_t={class:"banner bg-cover"},mt={class:"container"},gt={class:"row"},ft={class:"col-12 col-md-6"},bt=["src","alt"],wt={class:"row"},xt={class:"col-4 p-5 cursor-pointer"},kt=["src"],yt=["src","alt","onClick"],Pt={class:"col-12 col-md-6"},$t={"aria-label":"breadcrumb"},Ct={class:"breadcrumb bg-white px-0 mb-0 py-3 fs-6"},At={class:"breadcrumb-item"},It={class:"breadcrumb-item"},jt=w(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"產品細節",-1)),Lt={class:"fs-3 fw-bold h1 mb-1"},Ut={class:"d-flex justify-content-end align-items-end py-10"},zt={class:"text-muted text-start float-end"},Bt={class:"h3 fw-bold text-start ms-5 text-primary"},Dt={class:"row align-items-center"},Tt={key:0,class:"m-0 text-danger d-flex align-items-center justify-content-center"},Vt=w(()=>t("i",{class:"fs-4 bi-suit-heart-fill top-0 end-0 me-2 mt-1 text-danger"},null,-1)),Et={key:1,class:"m-0 text-soft d-flex align-items-center justify-content-center"},Ft=w(()=>t("i",{class:"fs-4 bi bi-suit-heart top-0 end-0 me-2 mt-1 p-0"},null,-1)),Rt={class:"input-group mb-3"},St=["value"],Mt=tt('<ul class="list-unstyled" data-v-3898c79f><li data-v-3898c79f> 付款後，從備貨到寄出商品為 7 個工作天。（不包含假日） </li></ul><hr data-v-3898c79f><ul class="list-unstyled text-danger" data-v-3898c79f><li data-v-3898c79f>此商品可領取折扣碼</li><li data-v-3898c79f>實際優惠折抵以購物車內的金額為準</li></ul><hr data-v-3898c79f><div class="text-secondary d-flex justify-content-end align-items-center" data-v-3898c79f><span class="me-3" data-v-3898c79f>分享</span><a href="https://viccjiang.github.io/somesweet/#/" class="link-dark" data-v-3898c79f><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook me-3" viewBox="0 0 16 16" data-v-3898c79f><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" data-v-3898c79f></path></svg></a><a href="https://viccjiang.github.io/somesweet/#/" class="link-dark" data-v-3898c79f><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram me-3" viewBox="0 0 16 16" data-v-3898c79f><path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" data-v-3898c79f></path></svg></a><a href="https://viccjiang.github.io/somesweet/#/" class="link-dark" data-v-3898c79f><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter" viewBox="0 0 16 16" data-v-3898c79f><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-v-3898c79f></path></svg></a></div>',5),Gt={class:"banner bg-cover pt-10"},Wt={class:"container mb-5"},qt={class:"row g-0","data-aos":"fade-up","data-aos-duration":"1000"},Ht={class:"col-md-4"},Ot=["alt"],Nt={class:"col-md-6 m-auto text-start p-5"},Kt={class:"mb-5"},Qt={class:"text-secondary"},Xt={class:"row g-0 justify-content-between mt-10","data-aos":"fade-up","data-aos-duration":"1000"},Jt=w(()=>t("div",{class:"col-md-4"},[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2023/1678412966133.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=ofuv2yWPXt6RCDCGBCyvzZsL3r3QKMkCdAWXaJCr3XKCkozruqo20ZRjv9hItJC5aOOC5j5xRYk22xs1sc%2BGS9JqVumbx6gWqQln9hD%2FGv864nNMi6r59M03iyo70k8qioUgfKlPfwc2p1IYwTR%2BYi3UK793aePqWW3c58ompTHf5joUklU7URm4yKRIlpZ00zoWXHkF%2FsOG%2BuJQFA3VYmqp6UkaakCJtuKcCzflXWE78UdbX6ZrnFLFGLaco7nu%2F0owWQWFv5StN3sSiodp9M9ploeWsw2ray0419j6FLNuP2q7Kdpz6Po9RvSyWCu%2FPzkfofzecXdGbB%2FeqmTINw%3D%3D",alt:"防疫樂活",class:"img-fluid rounded-5 p-5 border"})],-1)),Zt={class:"col-md-6 m-auto text-start m-0 p-5"},Yt={class:"text-secondary"},te={__name:"UserProductDetail",setup(e){const a=j("$http"),h=j("$Swal"),p=O(),{VITE_APP_URL:r,VITE_APP_PATH:m}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0},v=N(),s=_([]),$=_(""),x=_(""),R=_(""),k=_(1),l=_([]);function S(){y.value=!0,a.get(`${r}api/${m}/product/${$.value}`).then(i=>{console.log(i.data);const{product:o}=i.data;console.log(o),s.value=o,x.value=o.imageUrl,y.value=!1,console.log(R)})}function C(i){x.value=i}const{addToCart:M}=v;function G(i){l.value.includes(i.id)?l.value.splice(l.value.indexOf(i.id),1):(l.value.push(i.id),W())}function W(){h.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",h.stopTimer),o.addEventListener("mouseleave",h.resumeTimer)}}).fire({icon:"success",title:"已加入蒐藏清單"})}K(l,()=>{et.save(l.value)},{deep:!0});const{isLoading:y}=Q(v);return X(()=>{$.value=p.params.id,console.log(p.params.id),S()}),(i,o)=>{const q=L("LoadingView"),A=L("RouterLink");return d(),n(b,null,[g(q,{active:U(y),loader:"bars",color:"#034D83"},null,8,["active"]),t("div",_t,[t("div",mt,[t("div",gt,[t("div",ft,[t("img",{class:"p-4 rounded-5 w-100 border",src:x.value,alt:s.value.title,style:{height:"400px","background-size":"cover","background-position":"center center","object-fit":"cover"}},null,8,bt),t("div",wt,[t("div",xt,[t("img",{style:{height:"100px","background-size":"cover","background-position":"center center","object-fit":"cover"},class:"w-100 p-0 rounded-0 mt-2 border rounded-4",src:s.value.imageUrl,alt:"產品",onClick:o[0]||(o[0]=c=>C(s.value.imageUrl))},null,8,kt)]),(d(!0),n(b,null,P(s.value.imagesUrl,(c,I)=>(d(),n("div",{class:"col-4 p-5 cursor-pointer",key:`圖_${I}`},[t("img",{style:{height:"100px","background-size":"cover","background-position":"center center","object-fit":"cover"},class:"w-100 p-0 rounded-0 mt-2 border rounded-4",src:c,alt:`圖_${I}`,onClick:ee=>C(c)},null,8,yt)]))),128))])]),t("div",Pt,[t("nav",$t,[t("ol",Ct,[t("li",At,[g(A,{to:"/",class:""},{default:z(()=>[f("回首頁")]),_:1})]),t("li",It,[g(A,{to:"/products",class:""},{default:z(()=>[f("產品列表")]),_:1})]),jt])]),t("h2",Lt,u(s.value.title),1),t("div",Ut,[t("p",zt,[t("del",null,"NT$"+u(s.value.origin_price),1)]),t("p",Bt," NT$"+u(s.value.price),1)]),t("div",Dt,[t("div",null,[t("a",{href:"#",onClick:o[1]||(o[1]=V(c=>G(s.value),["prevent"])),class:J([{active:l.value.includes(s.value.id)},"link-secondary d-block rounded border text-center mb-3 rounded-3"])},[l.value.includes(s.value.id)?(d(),n("p",Tt,[Vt,f("已加入收藏 ")])):(d(),n("p",Et,[Ft,f("加入收藏")]))],2),t("div",Rt,[Z(t("select",{id:"",class:"form-select border-bottom border-0 rounded-0 me-3","onUpdate:modelValue":o[2]||(o[2]=c=>k.value=c)},[(d(),n(b,null,P(10,c=>t("option",{value:c,key:`${c}${s.value.id}`},u(c),9,St)),64))],512),[[Y,k.value,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary border-0 rounded-3",style:{width:"300px"},onClick:o[3]||(o[3]=c=>U(M)(s.value.id,k.value))}," 加入購物車 ")])])]),Mt])])])]),t("div",Gt,[t("div",Wt,[t("div",qt,[t("div",Ht,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2023/1678412947710.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CYhdBaempuovMGV3FPUTzGQmJcdxUexOR467IoCP9DarD7hVxsoChQoJEpcQonaOLAIf6LmfW%2BTKiosIMI%2B4pDVXs8aWEuPLztC1HvW4maWwvShTy%2B8P24ocifrgegJj%2BRZEwoxD%2BPQQnH6oblI5%2F88b5pGyuM%2FdIPGBkfR%2FrVm8AR9HQpwwWGKaFaew1lHn7AJqKGK4D1EPvBwobuXfA0kprnCJ%2FO4TZybWyjtAfGk%2Bj9dlqGmVgFECfYqGbe5FQc%2B%2BDXwjl5x2ViiDyvBOZy4YNR9x6bAIuMClxlX1UFV8F0qk9K6Bu%2FaYDcgd2UrjHD9HibNeAhMOtoUbZZecQw%3D%3D",alt:s.value.title,class:"img-fluid rounded-5 p-5 border"},null,8,Ot)]),t("div",Nt,[t("h4",Kt,u(s.value.title),1),t("p",Qt,u(s.value.description),1)])]),t("div",Xt,[Jt,t("div",Zt,[t("p",Yt,u(s.value.content),1)])])])]),g(ht)],64)}}},ae=T(te,[["__scopeId","data-v-3898c79f"]]);export{ae as default};
