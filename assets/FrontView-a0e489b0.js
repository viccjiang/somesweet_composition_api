import{c as dt,_ as z,a as _t,s as ut,r as ft,u as K,b as ht,w as pt,o as W,d as Y,e as b,f as g,g as t,h as e,i as o,j as a,k as M,l as h,t as T,m as vt,F as D,n as mt,p as bt,q as gt,v as xt,x as G,y as U,C as yt,R as kt}from"./index-52e2f2b0.js";import{_ as Q}from"./Vector-ca3e80a8.js";import{r as Et,a as wt,b as Ct,c as St}from"./component-functions-3e43fe49.js";import{r as $t,a as At,b as Tt}from"./focustrap-ed59e4cd.js";import{r as Nt}from"./selector-engine-85b27f3a.js";var L={},It={get exports(){return L},set exports(c){L=c}};/*!
  * Bootstrap offcanvas.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(c,x){(function(n,p){c.exports=p(Et(),$t(),wt(),Ct(),Nt(),At(),Tt(),St())})(dt,function(n,p,k,w,N,C,S,y){const v=u=>u&&typeof u=="object"&&"default"in u?u:{default:u},$=v(p),d=v(k),I=v(w),E=v(N),A=v(C),O=v(S),l="offcanvas",i=".bs.offcanvas",V=".data-api",Z=`load${i}${V}`,X="Escape",j="show",R="showing",q="hiding",tt="offcanvas-backdrop",F=".offcanvas.show",et=`show${i}`,st=`shown${i}`,ot=`hide${i}`,B=`hidePrevented${i}`,P=`hidden${i}`,nt=`resize${i}`,at=`click${i}${V}`,lt=`keydown.dismiss${i}`,it='[data-bs-toggle="offcanvas"]',ct={backdrop:!0,keyboard:!0,scroll:!1},rt={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class m extends I.default{constructor(s,r){super(s,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ct}static get DefaultType(){return rt}static get NAME(){return l}toggle(s){return this._isShown?this.hide():this.show(s)}show(s){if(this._isShown||d.default.trigger(this._element,et,{relatedTarget:s}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new $.default().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(R);const H=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(j),this._element.classList.remove(R),d.default.trigger(this._element,st,{relatedTarget:s})};this._queueCallback(H,this._element,!0)}hide(){if(!this._isShown||d.default.trigger(this._element,ot).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(q),this._backdrop.hide();const r=()=>{this._element.classList.remove(j,q),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new $.default().reset(),d.default.trigger(this._element,P)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const s=()=>{if(this._config.backdrop==="static"){d.default.trigger(this._element,B);return}this.hide()},r=Boolean(this._config.backdrop);return new A.default({className:tt,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?s:null})}_initializeFocusTrap(){return new O.default({trapElement:this._element})}_addEventListeners(){d.default.on(this._element,lt,s=>{if(s.key===X){if(!this._config.keyboard){d.default.trigger(this._element,B);return}this.hide()}})}static jQueryInterface(s){return this.each(function(){const r=m.getOrCreateInstance(this,s);if(typeof s=="string"){if(r[s]===void 0||s.startsWith("_")||s==="constructor")throw new TypeError(`No method named "${s}"`);r[s](this)}})}}return d.default.on(document,at,it,function(u){const s=n.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),n.isDisabled(this))return;d.default.one(s,P,()=>{n.isVisible(this)&&this.focus()});const r=E.default.findOne(F);r&&r!==s&&m.getInstance(r).hide(),m.getOrCreateInstance(s).toggle(this)}),d.default.on(window,Z,()=>{for(const u of E.default.find(F))m.getOrCreateInstance(u).show()}),d.default.on(window,nt,()=>{for(const u of E.default.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&m.getOrCreateInstance(u).hide()}),y.enableDismissTrigger(m),n.defineJQueryPlugin(m),m})})(It);const Dt=L;const f=c=>(G("data-v-a007534b"),c=c(),U(),c),Lt={class:"navbar navbar-expand-lg d-flex flex-wrap justify-content-center align-items-center mt-5"},Ot={class:"container-fluid d-flex flex-row flex-lg-column justify-content-center align-items-center"},Vt=f(()=>t("a",{class:"d-flex navbar-brand m-0",href:"#"},[t("img",{src:Q,alt:"Logo",width:"",height:"",class:"d-inline-block align-text-top me-3"}),t("div",null,[t("p",{class:"fs-m fw-normal"},"清晨一點甜"),t("p",{class:"logoText fs-sm p-0 m-0"},[a("SOME SWEET "),t("span",{class:"fs-xs fw-lighter"},"/am")])])],-1)),jt={class:"container-fluid navbarCollapse d-flex flex-lg-row"},Rt=f(()=>t("button",{class:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),qt={class:"collapse navbar-collapse justify-content-center",id:"navbarSupportedContent"},Ft={class:"position-lg-relative d-flex flex-column justify-content-center align-items-center"},Bt={class:"navbar-nav mb-2 mb-lg-0 text-center"},Pt={class:"navhover nav-item p-2"},Ht={class:"navhover nav-item p-2"},Mt={class:"navhover nav-item p-2"},zt={class:"navhover nav-item p-2"},Kt={class:"navhover nav-item p-2"},Wt={class:"navhover nav-item p-2"},Yt={class:"navhover nav-item p-2"},Gt={class:"sticky-top bg-white position-lg-absolute top-lg-5 end-10 nav-icon"},Ut={class:"navbar-nav d-flex justify-content-center align-items-center"},Qt={class:"nav-icon-list d-inline-flex mb-2 mb-lg-0 text-center p-0"},Jt={class:"nav-item px-5"},Zt=f(()=>t("i",{class:"bi bi-heart"},null,-1)),Xt={class:"nav-item px-5"},te=["onClick"],ee=f(()=>t("i",{class:"bi bi-cart2"},null,-1)),se={key:0,class:"translate-middle badge rounded-pill bg-danger text-light position-absolute top-10 start-100",style:{"font-size":"10px"}},oe=f(()=>t("div",{class:"bg-bk-lighter offcanvas-header text-primary"},[t("h5",{id:"offcanvasRightLabel ",class:"text-center m-0"},"購物車"),t("button",{type:"button",class:"btn-close btn-close-primary text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),ne={key:0},ae={class:"offcanvas-body d-flex flex-column justify-content-between"},le={class:"container"},ie={class:"d-flex p-0"},ce={class:"col-2 d-flex align-items-center justify-content-center"},re=["onClick"],de=f(()=>t("i",{class:"bi bi-trash3"},null,-1)),_e=[de],ue=["onClick"],fe={class:"col fs-6 fw-normal text-start"},he={class:"border-top d-flex justify-content-center bg-light"},pe={class:"col d-flex flex-column ms-auto"},ve={class:"price d-flex justify-content-md-between flex-column flex-nowrap flex-md-row"},me={class:"input-group product-num-group bg-light mt-1 mb-4 my-md-0"},be=["onClick"],ge=f(()=>t("i",{class:"bi bi-dash-lg"},null,-1)),xe=[ge],ye=["onUpdate:modelValue"],ke=["onClick"],Ee=f(()=>t("i",{class:"bi bi-plus-lg"},null,-1)),we=[Ee],Ce={class:"col d-flex flex-column ms-auto text-end fs-7 text-secondary align-items-end justify-content-center"},Se={class:"text-end m-0 fs-6 text-danger mb-3"},$e={key:1,class:"offcanvas-body d-flex flex-column align-items-center justify-content-center"},Ae={class:"text-center d-flex flex-column align-items-center justify-content-center"},Te=f(()=>t("p",{class:"m-0"},"你的購物車沒有商品",-1)),Ne={class:"d-flex align-items-center justify-content-center"},Ie=f(()=>t("button",{type:"button",class:"btn btn-outline-secondary m-2"}," 回首頁 ",-1)),De=f(()=>t("button",{type:"button",class:"btn btn-outline-secondary"}," 購物去 ",-1)),Le={class:"nav-item px-5"},Oe=f(()=>t("i",{class:"bi bi-person-circle"},null,-1)),Ve={__name:"FrontNavbarComponent",setup(c){const x=_t(),{cartData:n,cartsLength:p}=ut(x),{getCarts:k,updateCartItem:w,deleteItem:N,toThousands:C}=x,S=ft(null);let y=null;const v=K();function $(A){v.push(`/product/${A}`)}function d(){y.show()}function I(){y.hide()}const E=ht();return pt(E,()=>{console.log("被監聽到了"),v.go(0)}),W(()=>{y=new Dt(S.value,{backdrop:!0}),console.log(y),k()}),(A,O)=>{const l=Y("RouterLink");return b(),g(D,null,[t("nav",Lt,[t("div",Ot,[e(l,{to:"/"},{default:o(()=>[Vt]),_:1})]),t("div",jt,[Rt,t("div",qt,[t("div",Ft,[t("ul",Bt,[t("li",Pt,[e(l,{class:"nav-link p-5",to:"/home"},{default:o(()=>[a("首頁 ")]),_:1})]),t("li",Ht,[e(l,{class:"nav-link p-5",to:"/about"},{default:o(()=>[a("關於我們")]),_:1})]),t("li",Mt,[e(l,{class:"nav-link p-5",to:"/products"},{default:o(()=>[a("清晨甜點")]),_:1})]),t("li",zt,[e(l,{class:"nav-link p-5",to:"/cart"},{default:o(()=>[a("購物車")]),_:1})]),t("li",Kt,[e(l,{class:"nav-link p-5",to:"/blog"},{default:o(()=>[a("部落格")]),_:1})]),t("li",Wt,[e(l,{class:"nav-link p-5",to:"/faq"},{default:o(()=>[a("常見問題")]),_:1})]),t("li",Yt,[e(l,{class:"nav-link p-5",to:"/query_order"},{default:o(()=>[a("查詢訂單")]),_:1})])])])])])]),t("nav",Gt,[t("div",Ut,[t("ul",Qt,[t("li",Jt,[e(l,{class:"nav-link",to:"/favorite"},{default:o(()=>[Zt]),_:1})]),t("li",Xt,[t("a",{href:"",class:"nav-link position-relative",onClick:M(d,["prevent"])},[ee,h(p)!=0?(b(),g("div",se,T(h(p)),1)):vt("",!0)],8,te)]),t("div",{class:"offcanvas offcanvas-end","data-bs-scroll":"true","data-bs-backdrop":"false",ref_key:"offcanvas",ref:S,style:{overflow:"auto","z-index":"2040"},tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},[oe,h(p)>0?(b(),g("div",ne,[t("div",ae,[t("div",le,[(b(!0),g(D,null,mt(h(n).carts,_=>(b(),g("div",{class:"row border-bottom mb-3 d-flex",key:_.id},[t("div",ie,[t("div",ce,[t("p",{type:"",class:"btn btn-sm text-secondary text-start m-0",onClick:i=>h(N)(_.id)},_e,8,re)]),t("a",{href:"#",onClick:M(i=>$(_.product_id),["prevent"]),class:"d-flex align-items-center justify-content-center link-soft"},[t("div",{class:"col-2 mb-2 me-2 rounded-3",style:bt([{height:"50px",width:"50px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${_.product.imageUrl})`}])},null,4),t("div",fe,T(_.product.title),1)],8,ue)]),t("div",he,[t("div",pe,[t("div",ve,[t("div",me,[t("div",null,[t("button",{onClick:i=>h(w)(_,_.qty--),class:"btn border-0 bg-light",type:"button"},xe,8,be)]),gt(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light border","aria-describedby":"button-addon1","onUpdate:modelValue":i=>_.qty=i},null,8,ye),[[xt,_.qty,void 0,{lazy:!0}]]),t("div",null,[t("button",{onClick:i=>h(w)(_,_.qty++),class:"btn border-0",type:"button"},we,8,ke)])])])]),t("div",Ce," $"+T(h(C)(_.final_total)),1)])]))),128))]),t("p",Se," 總計 $ "+T(h(C)(h(n).final_total))+" 元 ",1),e(l,{class:"btn btn-primary text-center mt-auto text-white p-3 d-grid rounded-3",to:"/cart",onClick:I},{default:o(()=>[a("結帳去")]),_:1})])])):(b(),g("div",$e,[t("div",Ae,[Te,t("div",Ne,[e(l,{to:"/"},{default:o(()=>[Ie]),_:1}),e(l,{to:"/products"},{default:o(()=>[De]),_:1})])])]))],512),t("li",Le,[e(l,{class:"nav-link",to:"/login"},{default:o(()=>[Oe]),_:1})])])])])],64)}}},je=z(Ve,[["__scopeId","data-v-a007534b"]]);const Re={},J=c=>(G("data-v-636aa8b4"),c=c(),U(),c),qe={class:"bg-bk-lighter text-bk-gray"},Fe={class:"container row g-0 mx-auto fs-6 ls-2 text-center"},Be={class:"nav-item mb-10 d-none d-md-inline-block"},Pe={class:"row justify-content-between list-unstyled m-0 mt-5"},He={class:"navhover col-md-2 p-1 col-lg-2"},Me={class:"navhover col-md-2 p-1 col-lg-2"},ze={class:"navhover col-md-2 p-1 col-lg-2"},Ke={class:"navhover col-md-2 p-1 col-lg-2"},We={class:"navhover col-md-2 p-1 col-lg-2"},Ye={class:"navhover col-md-2 p-1 col-lg-2"},Ge={class:"pt-5 pt-md-0 my-5"},Ue=J(()=>t("a",{class:"d-flex navbar-brand justify-content-center align-items-center",href:"#"},[t("img",{src:Q,alt:"Logo",width:"",height:"",class:"d-inline-block align-text-top me-3"}),t("div",null,[t("p",{class:"fs-m fw-bold text-start"},"清晨一點甜"),t("p",{class:"logoText fs-sm p-0 m-0"},[a("SOME SWEET "),t("span",{class:"fs-xs fw-lighter"},"/am")])])],-1)),Qe={class:"mt-5"},Je={class:"d-none d-md-inline-block"},Ze=J(()=>t("div",{class:"mb-5"},"© 2022 SomeSweet COPYRIGHT",-1));function Xe(c,x){const n=Y("RouterLink");return b(),g("footer",qe,[t("div",Fe,[t("nav",Be,[t("ul",Pe,[t("li",He,[e(n,{to:"/",class:"nav-link px-2 py-5"},{default:o(()=>[a(" 首頁 ")]),_:1})]),t("li",Me,[e(n,{to:"/about",class:"nav-link px-2 py-5"},{default:o(()=>[a(" 關於我們 ")]),_:1})]),t("li",ze,[e(n,{to:"/products",class:"nav-link px-2 py-5"},{default:o(()=>[a(" 清晨甜點 ")]),_:1})]),t("li",Ke,[e(n,{to:"/cart",class:"nav-link px-2 py-5"},{default:o(()=>[a(" 購物車 ")]),_:1})]),t("li",We,[e(n,{to:"/blog",class:"nav-link px-2 py-5"},{default:o(()=>[a(" 部落格 ")]),_:1})]),t("li",Ye,[e(n,{to:"/faq",class:"nav-link px-2 py-5"},{default:o(()=>[a(" 常見問答 ")]),_:1})])])]),t("div",Ge,[e(n,{to:"/"},{default:o(()=>[Ue]),_:1})]),t("div",Qe,[a(" 本網站僅供個人作品使用，不提供商業用途 "),t("span",Je,[e(n,{class:"p-0 nav-link link-bk-gray text-bk-gray",to:"/login"},{default:o(()=>[a("｜登入後台")]),_:1})])]),Ze])])}const ts=z(Re,[["render",Xe],["__scopeId","data-v-636aa8b4"]]),ls={__name:"FrontView",setup(c){let x=null;const n=K();return W(()=>{x=new yt(document.getElementById("navbarSupportedContent"),{toggle:!1}),n.beforeEach((p,k)=>{x.hide()})}),(p,k)=>(b(),g(D,null,[e(je),e(h(kt)),e(ts)],64))}};export{ls as default};
